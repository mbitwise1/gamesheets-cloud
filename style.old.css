:root{
  --bg:#0f172a; --panel:#111827; --muted:#1f2937; --text:#e5e7eb; --sub:#9ca3af;
  --brand:#22c55e; --brand-2:#16a34a; --danger:#ef4444; --warning:#f59e0b;
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.35);
  --cell-pad:10px; --cell-min-ch:8; --cell-max-ch:36; --line:1px solid rgba(255,255,255,.12);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; background:linear-gradient(180deg,var(--bg),#0b1227 45%, #0b1227);
  color:var(--text); font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
header{position:sticky; top:0; z-index:5; backdrop-filter:saturate(1.2) blur(8px);
  background:rgba(5,10,24,.65); border-bottom:1px solid rgba(255,255,255,.06);}  
.wrap{max-width:1200px; margin:0 auto; padding:16px 20px}
.bar{display:flex; align-items:center; gap:16px}
.logo{font-weight:800; letter-spacing:.3px; font-size:20px}
.logo b{color:var(--brand)}
.spacer{flex:1}
.btn{appearance:none; border:0; background:var(--brand); color:#07120b; font-weight:700; padding:10px 14px; border-radius:10px; cursor:pointer; box-shadow:var(--shadow); transition:transform .05s ease, background .15s}
.btn:hover{background:var(--brand-2)}
.btn.secondary{background:#0b142a; color:var(--text); border:1px solid rgba(255,255,255,.08); box-shadow:none}
.btn.danger{background:rgba(239,68,68,.12); color:#fecaca; border:1px solid rgba(239,68,68,.35)}
.layout{display:grid; grid-template-columns:290px 1fr; gap:18px; padding:22px}
.panel{background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); box-shadow:var(--shadow)}
aside{padding:16px}
.section-title{font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:var(--sub); margin:6px 0 10px}
.game-list{display:flex; flex-direction:column; gap:8px; max-height:60vh; overflow:auto; padding-right:4px}
.game{display:flex; align-items:center; gap:10px; padding:10px; border-radius:12px; background:transparent; border:1px solid rgba(255,255,255,.06); cursor:pointer}
.game.active{background:rgba(34,197,94,.08); border-color:rgba(34,197,94,.35)}
.game .name{font-weight:700}
.game .meta{margin-left:auto; font-size:12px; color:var(--sub); background:rgba(255,255,255,.06); padding:3px 8px; border-radius:999px}
.game-actions{display:flex; gap:8px; margin-top:10px}
.field{display:flex; gap:8px}
input[type="text"], .cell-input, .cell-textarea{flex:1; background:#0b142a; color:var(--text); border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:10px 12px}
main{padding:16px}
.grid{display:grid; grid-template-columns:1fr; gap:16px}
.card{padding:16px}
.muted{color:var(--sub)}
.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.files{width:100%; border-collapse:collapse}
.files th,.files td{padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08); text-align:left}
.pill{font-size:12px; padding:2px 8px; border-radius:999px; background:rgba(255,255,255,.06); color:var(--sub)}
.right{margin-left:auto}
.toolbar{display:flex; gap:8px; align-items:center}
.search{flex:1}
.hint{font-size:12px; color:var(--sub)}
footer{padding:18px 22px; text-align:center; color:var(--sub)}
.small{font-size:12px}
.hidden{display:none}
@media (max-width: 920px){
  .layout{grid-template-columns:1fr}
  aside{order:2}
  main{order:1}
}

/* Editor table styles (offline editor) */
.table-wrap{overflow:auto; border:1px solid rgba(255,255,255,.08); border-radius:12px}
.table{border-collapse:separate; border-spacing:0; width:100%; background:#0b142a; table-layout:fixed}
.table th,.table td{border:var(--line); padding:0; vertical-align:top}
.thead th{position:sticky; top:0; background:#0e1a36; z-index:1; padding:8px 10px; text-align:left}
.cell{padding:0; min-width:0}
.cell-input, .cell-select, .cell-textarea{width:100%; min-width:0; border:0; background:transparent; color:var(--text); padding:var(--cell-pad); line-height:1.4; font-size:14px}
.cell-textarea{resize:vertical; overflow:auto; white-space:pre-wrap; word-break:break-word; height:auto; min-height:6.5em; max-height:60vh}
.cell-input{white-space:nowrap; text-overflow:ellipsis; overflow:hidden; height:2.6em}
.cell-checkbox{display:flex; align-items:center; justify-content:center; padding:8px}
.cell-checkbox input{transform:scale(1.1)}

/* Exact Viewer modal */
.modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55); backdrop-filter:blur(3px); z-index:50}
.modal.open{display:grid}
.modal .box{width:min(1300px,96vw); height:min(90vh,960px); background:#0b142a; border:1px solid rgba(255,255,255,.12); border-radius:14px; box-shadow:var(--shadow); display:flex; flex-direction:column}
.modal .head{display:flex; align-items:center; gap:10px; padding:12px 14px; border-bottom:1px solid rgba(255,255,255,.08)}
.modal .head .title{font-weight:800}
.modal .head .sub{color:var(--sub); font-size:12px}
.modal .body{padding:10px; overflow:hidden; background:#061024; display:flex; gap:10px; flex-direction:column}
.sheet-tabs{display:flex; gap:8px; padding:10px; border-bottom:1px solid rgba(255,255,255,.08); background:#0b142a}
.sheet-tabs button{background:#0e1a36; color:var(--text); border:1px solid rgba(255,255,255,.12); border-radius:8px; padding:6px 10px; cursor:pointer}
.sheet-tabs button.active{background:rgba(34,197,94,.15); border-color:rgba(34,197,94,.45)}
.editor-toolbar{display:flex; gap:8px; align-items:center}
.editor-toolbar .btn{padding:8px 10px; border-radius:8px}

.iframe-wrap{flex:1; border:1px solid rgba(255,255,255,.09); border-radius:12px; overflow:hidden; background:#0b142a}
.iframe-wrap iframe{width:100%; height:100%; border:0; background:#0b142a}
.warn{font-size:12px; color:#f8d199}
